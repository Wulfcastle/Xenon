<div class="dx-warning hidden">
	<div>
		<h2>How to Include Charts Library in Xenon Theme</h2>
		
		<p>The reason why you don't see charts in this page is because of license restrictions from DevExpress company. <a href="http://js.devexpress.com/DevExtremeWeb/?folder=EULAs" target="_blank">Click here</a> to read license agreement.</p>
		<p>We are not permitted to include the DevExtreme Web Charts JavaScript library in the default download file of Xenon theme, however you can include DevExpress Charts library manually and takes just few minutes:</p>
		
		<ol>
			<li>Download <strong>DevExtreme Web</strong> JavaScript library by clicking <a href="https://go.devexpress.com/DevExpressDownload_DevExtremeWebTrial.aspx" class="text-bold">here</a>. If the link doesn't work, then <a href="http://js.devexpress.com/Buy/" target="_parent">click this one</a> and choose DevExtreme Web package to download.</li>
			<li>Extract the downloaded archive. There you will find <strong>Lib/</strong> folder. <strong>Copy</strong> the folders inside.</li>
			<li><strong>Paste</strong> copied files to <strong>assets/js/devexpress-web-14.1/</strong></li>
			<li>You are all set!</li>
		</ol>
	</div>
</div>
<script type="text/javascript">
	jQuery(document).ready(function($)
	{
		if( ! $.isFunction($.fn.dxChart))
			$(".dx-warning").removeClass('hidden');
	});
</script>

<script type="text/javascript">
	
		setTimeout(function()
		{	
		var $ = jQuery;		
		if( ! $.isFunction($.fn.dxChart))
			return;
			
		var gaugesPalette = ['#8dc63f', '#40bbea', '#ffba00', '#cc3f44'];
		
			
		// Data Sources for all charts
		var reqs_per_second_data = [
			{ time: new Date("October 14, 2014 04:00:00"), reqs: 195 },
			{ time: new Date("October 14, 2014 05:00:00"), reqs: 73 },
			{ time: new Date("October 14, 2014 06:00:00"), reqs: 104 },
			{ time: new Date("October 14, 2014 07:00:00"), reqs: 184 },
			{ time: new Date("October 14, 2014 08:00:00"), reqs: 115 },
			{ time: new Date("October 14, 2014 09:00:00"), reqs: 196 },
			{ time: new Date("October 14, 2014 10:00:00"), reqs: 94 },
			{ time: new Date("October 14, 2014 11:00:00"), reqs: 75 },
			{ time: new Date("October 14, 2014 12:00:00"), reqs: 110 },
			{ time: new Date("October 14, 2014 13:00:00"), reqs: 152 },
			{ time: new Date("October 14, 2014 14:00:00"), reqs: 200 },
			{ time: new Date("October 14, 2014 15:00:00"), reqs: 91 },
			{ time: new Date("October 14, 2014 16:00:00"), reqs: 44 },
			{ time: new Date("October 14, 2014 17:00:00"), reqs: 113 },
			{ time: new Date("October 14, 2014 18:00:00"), reqs: 139 },
			{ time: new Date("October 14, 2014 19:00:00"), reqs: 121 },
			{ time: new Date("October 14, 2014 20:00:00"), reqs: 122 },
			{ time: new Date("October 14, 2014 21:00:00"), reqs: 119 },
			{ time: new Date("October 14, 2014 22:00:00"), reqs: 107 },
			{ time: new Date("October 14, 2014 23:00:00"), reqs: 157 },
			{ time: new Date("October 15, 2014 00:00:00"), reqs: 140 },
			{ time: new Date("October 15, 2014 01:00:00"), reqs: 56 },
			{ time: new Date("October 15, 2014 02:00:00"), reqs: 62 },
			{ time: new Date("October 15, 2014 03:00:00"), reqs: 123 },
		];
		
		var cpu_usage_data = [
			{ time: new Date("October 14, 2014 04:00:00"), usage: 14 },
			{ time: new Date("October 14, 2014 05:00:00"), usage: 21 },
			{ time: new Date("October 14, 2014 06:00:00"), usage: 51 },
			{ time: new Date("October 14, 2014 07:00:00"), usage: 82 },
			{ time: new Date("October 14, 2014 08:00:00"), usage: 89 },
			{ time: new Date("October 14, 2014 09:00:00"), usage: 49 },
			{ time: new Date("October 14, 2014 10:00:00"), usage: 79 },
			{ time: new Date("October 14, 2014 11:00:00"), usage: 78 },
			{ time: new Date("October 14, 2014 12:00:00"), usage: 56 },
			{ time: new Date("October 14, 2014 13:00:00"), usage: 15 },
			{ time: new Date("October 14, 2014 14:00:00"), usage: 50 },
			{ time: new Date("October 14, 2014 15:00:00"), usage: 29 },
			{ time: new Date("October 14, 2014 16:00:00"), usage: 56 },
			{ time: new Date("October 14, 2014 17:00:00"), usage: 49 },
			{ time: new Date("October 14, 2014 18:00:00"), usage: 19 },
			{ time: new Date("October 14, 2014 19:00:00"), usage: 13 },
			{ time: new Date("October 14, 2014 20:00:00"), usage: 64 },
			{ time: new Date("October 14, 2014 21:00:00"), usage: 76 },
			{ time: new Date("October 14, 2014 22:00:00"), usage: 78 },
			{ time: new Date("October 14, 2014 23:00:00"), usage: 71 },
			{ time: new Date("October 15, 2014 00:00:00"), usage: 88 },
			{ time: new Date("October 15, 2014 01:00:00"), usage: 46 },
			{ time: new Date("October 15, 2014 02:00:00"), usage: 96 },
			{ time: new Date("October 15, 2014 03:00:00"), usage: 71 },
		];
		
		var memory_usage_data = [
			{ time: new Date("October 14, 2014 04:00:00"), used: 806 },
			{ time: new Date("October 14, 2014 05:00:00"), used: 983 },
			{ time: new Date("October 14, 2014 06:00:00"), used: 401 },
			{ time: new Date("October 14, 2014 07:00:00"), used: 314 },
			{ time: new Date("October 14, 2014 08:00:00"), used: 614 },
			{ time: new Date("October 14, 2014 09:00:00"), used: 359 },
			{ time: new Date("October 14, 2014 10:00:00"), used: 921 },
			{ time: new Date("October 14, 2014 11:00:00"), used: 792 },
			{ time: new Date("October 14, 2014 12:00:00"), used: 662 },
			{ time: new Date("October 14, 2014 13:00:00"), used: 707 },
			{ time: new Date("October 14, 2014 14:00:00"), used: 568 },
			{ time: new Date("October 14, 2014 15:00:00"), used: 551 },
			{ time: new Date("October 14, 2014 16:00:00"), used: 460 },
			{ time: new Date("October 14, 2014 17:00:00"), used: 77 },
			{ time: new Date("October 14, 2014 18:00:00"), used: 80 },
			{ time: new Date("October 14, 2014 19:00:00"), used: 149 },
			{ time: new Date("October 14, 2014 20:00:00"), used: 222 },
			{ time: new Date("October 14, 2014 21:00:00"), used: 996 },
			{ time: new Date("October 14, 2014 22:00:00"), used: 374 },
			{ time: new Date("October 14, 2014 23:00:00"), used: 536 },
			{ time: new Date("October 15, 2014 00:00:00"), used: 495 },
			{ time: new Date("October 15, 2014 01:00:00"), used: 979 },
			{ time: new Date("October 15, 2014 02:00:00"), used: 726 },
			{ time: new Date("October 15, 2014 03:00:00"), used: 109 },
		];
			
		// Requests per second gauge
		$('#reqs-per-second').dxCircularGauge({
			scale: {
				startValue: 0,
				endValue: 200,
				majorTick: {
					tickInterval: 50
				}
			},
			rangeContainer: {
				palette: 'pastel',
				width: 3,
				ranges: [
					{
						startValue: 0,
						endValue: 50,
						color: gaugesPalette[0]
					}, {
						startValue: 50,
						endValue: 100,
						color: gaugesPalette[1]
					}, {
						startValue: 100,
						endValue: 150,
						color: gaugesPalette[2]
					}, {
						startValue: 150,
						endValue: 200,
						color: gaugesPalette[3]
					}
				],
			},
			value: 98,
			valueIndicator: {
				offset: 10,
				color: '#2c2e2f',
				spindleSize: 12
			}
		});
		
		// Requests per second chart
		$("#reqs-per-second-chart").dxChart({
			dataSource: reqs_per_second_data,
			commonPaneSettings: {
				border: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			commonSeriesSettings: {
				type: "area",
				argumentField: "time",
				border: {
					color: '#68b828',
					width: 1,
					visible: true
				}
			},
			series: [
				{ valueField: "reqs", name: "Reqs per Second", color: '#68b828', opacity: .5 },
			],
			commonAxisSettings: {
				label: {
					visible: true
				},
				grid: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			argumentAxis: {
				valueMarginsEnabled: false,
				label: {
					customizeText: function (arg) {
						return date('h:i A', arg.value);
					}
				},
			},
			legend: {
				visible: false
			}
		});
		
			
		// CPU Usage
		$('#cpu-usage').dxCircularGauge({
			scale: {
				startValue: 0,
				endValue: 100,
				majorTick: {
					tickInterval: 25
				}
			},
			rangeContainer: {
				palette: 'pastel',
				width: 3,
				ranges: [
					{
						startValue: 0,
						endValue: 25,
						color: gaugesPalette[0]
					}, {
						startValue: 25,
						endValue: 50,
						color: gaugesPalette[1]
					}, {
						startValue: 50,
						endValue: 75,
						color: gaugesPalette[2]
					}, {
						startValue: 75,
						endValue: 100,
						color: gaugesPalette[3]
					}
				],
			},
			value: 34,
			valueIndicator: {
				offset: 10,
				color: '#2c2e2f',
				spindleSize: 12
			}
		});
		
		// CPU Usage chart
		$("#cpu-usage-chart").dxChart({
			dataSource: cpu_usage_data,
			commonPaneSettings: {
				border: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			commonSeriesSettings: {
				type: "area",
				argumentField: "time",
				border: {
					color: '#7c38bc',
					width: 1,
					visible: true
				}
			},
			series: [
				{ valueField: "usage", name: "Capacity used", color: '#7c38bc', opacity: .5 },
			],
			commonAxisSettings: {
				label: {
					visible: true
				},
				grid: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			argumentAxis: {
				valueMarginsEnabled: false,
				label: {
					customizeText: function (arg) {
						return date('h:i A', arg.value);
					}
				},
			},
			legend: {
				visible: false
			}
		});
		
		
			
		// Memory Usage
		$('#memory-usage').dxCircularGauge({
			scale: {
				startValue: 0,
				endValue: 1000,
				majorTick: {
					tickInterval: 250
				}
			},
			rangeContainer: {
				palette: 'pastel',
				width: 3,
				ranges: [
					{
						startValue: 0,
						endValue: 250,
						color: '#40bbea'
					}, {
						startValue: 250,
						endValue: 500,
						color: '#40bbea'
					}, {
						startValue: 500,
						endValue: 750,
						color: '#40bbea'
					}, {
						startValue: 750,
						endValue: 1000,
						color: '#40bbea'
					}
				],
			},
			value: 774,
			valueIndicator: {
				offset: 10,
				color: '#2c2e2f',
				spindleSize: 12
			}
		});
		
		// Memory Usage chart
		$("#memory-usage-chart").dxChart({
			dataSource: memory_usage_data,
			commonPaneSettings: {
				border: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			commonSeriesSettings: {
				type: "area",
				argumentField: "time",
				border: {
					color: '#40bbea',
					width: 1,
					visible: true
				}
			},
			series: [
				{ valueField: "used", name: "Megabytes occupied", color: '#40bbea', opacity: .5 },
			],
			commonAxisSettings: {
				label: {
					visible: true
				},
				grid: {
					visible: true,
					color: '#f5f5f5'
				}
			},
			argumentAxis: {
				valueMarginsEnabled: false,
				label: {
					customizeText: function (arg) {
						return date('h:i A', arg.value);
					}
				},
			},
			legend: {
				visible: false
			}
		});
		
		
		// Combine charts for filtering, grouped by time
		var all_data_sources = [];
		
		$.map(reqs_per_second_data, function(arg, i)
		{
			all_data_sources.push({
				time: 					arg.time,
				requestsPerMinute: 		reqs_per_second_data[i].reqs,
				cpuUsage: 				cpu_usage_data[i].usage,
				memoryUsed: 			memory_usage_data[i].used
			});
		});
		
		
		// Range Filter
		$("#range-chart").dxRangeSelector({
			dataSource: all_data_sources,
			size: {
				height: 140
			},
			chart: {
				series: [
					{ argumentField: "time", valueField: "requestsPerMinute", color: '#68b828', opacity: .65 },
					{ argumentField: "time", valueField: "cpuUsage", color: '#7c38bc', opacity: .65 },
					{ argumentField: "time", valueField: "memoryUsed", color: '#40bbea', opacity: .65 }
				]
			},
			selectedRange: {
				startValue: all_data_sources[4].time,
				endValue: all_data_sources[14].time
			},
			selectedRangeChanged: function(e)
			{
				var filter = {
					reqsPerMinuteData: [],
					cpuUsageData: [],
					memoryUsageData: []
				};
				
				$.map(all_data_sources, function(arg, i)
				{
					if(date("U", e.startValue) <= date("U", arg.time) && date("U", e.endValue) >= date("U", arg.time))
					{
						filter.reqsPerMinuteData.push({
							time: arg.time,
							reqs: arg.requestsPerMinute
						});
						
						filter.cpuUsageData.push({
							time: arg.time,
							usage: arg.cpuUsage
						});
						
						filter.memoryUsageData.push({
							time: arg.time,
							used: arg.memoryUsed
						});
					}
				});
				
				$('#reqs-per-second-chart').dxChart('instance').option('dataSource', filter.reqsPerMinuteData);
				$('#cpu-usage-chart').dxChart('instance').option('dataSource', filter.cpuUsageData);
				$('#memory-usage-chart').dxChart('instance').option('dataSource', filter.memoryUsageData);
			}
		});
		
		
		
		// Resize charts
		$(window).on('xenon.resize', function()
		{
			$("#range-chart").data("dxRangeSelector").render();
			
			$("#reqs-per-second-chart").data("dxChart").render();
			$("#cpu-usage-chart").data("dxChart").render();
			$("#memory-usage-chart").data("dxChart").render();
			
			$("#reqs-per-second").data("dxCircularGauge").render();
			$("#cpu-usage").data("dxCircularGauge").render();
			$("#memory-usage").data("dxCircularGauge").render();
		});
	});
</script>

<div class="panel panel-default">
	<div class="panel-heading">
		Realtime result filtering by range
	</div>
	<div class="panel-body">
		
		<div class="row">
			<div class="col-sm-12">
				<div id="range-chart"></div>
			</div>
		</div>
		
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		Requests per second
	</div>
	<div class="panel-body">
		
		<div class="row">
			<div class="col-sm-3">
				<p class="text-medium">View the number of requests completed at the moment and for the selected range within the last day.</p>
				<div class="super-large text-secondary" xe-counter data-count="this" data-from="0" data-to="98" data-duration="1.5">0</div>
			</div>
			<div class="col-sm-3">
				<div id="reqs-per-second" style="height: 150px;"></div>
			</div>
			<div class="col-sm-6">
				<div id="reqs-per-second-chart" style="height: 150px;"></div>
			</div>
		</div>
		
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		CPU usage in %
	</div>
	<div class="panel-body">
		
		<div class="row">
			<div class="col-sm-3">
				<p class="text-medium">View how much CPU is being used at the moment and for the selected range within the last day.</p>
				<div class="super-large text-purple" xe-counter data-count="this" data-from="0" data-to="34" data-duration="2">0</div>
			</div>
			<div class="col-sm-3">
				<div id="cpu-usage" style="height: 150px;"></div>
			</div>
			<div class="col-sm-6">
				<div id="cpu-usage-chart" style="height: 150px;"></div>
			</div>
		</div>
		
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading">
		Memory Consumption, Mb
	</div>
	<div class="panel-body">
		
		<div class="row">
			<div class="col-sm-3">
				<p class="text-medium">View how much memory is used at the moment and for the selected range within the last day.</p>
				<div class="super-large text-info" xe-counter data-count="this" data-from="0" data-to="774" data-duration="3">0</div>
			</div>
			<div class="col-sm-3">
				<div id="memory-usage" style="height: 150px;"></div>
			</div>
			<div class="col-sm-6">
				<div id="memory-usage-chart" style="height: 150px;"></div>
			</div>
		</div>
		
	</div>
</div>